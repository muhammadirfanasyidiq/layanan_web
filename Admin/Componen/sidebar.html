<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sidebar</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
    }

    .sidebar {
      width: 240px;
      background-color: #1e1c1a;
      color: white;
      min-height: 100vh;
      padding: 1rem;
      box-sizing: border-box;
    }

    .sidebar h1 {
      font-size: 1.2rem;
      margin-bottom: 2rem;
    }

    .menu {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .menu-item {
      display: flex;
      flex-direction: column;
    }

    .menu-toggle {
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 8px;
      transition: background-color 0.2s ease;
    }

    .menu-toggle:hover {
      background-color: #2c2a28;
    }

    .menu-link {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      text-decoration: none;
      color: white;
      width: 100%;
      padding: 0.5rem;
      border-radius: 8px;
      transition: background-color 0.2s ease;
    }

    .menu-link:hover {
      background-color: #2c2a28;
    }

    .submenu {
      display: none;
      flex-direction: column;
      margin-left: 1.5rem;
      margin-top: 0.5rem;
    }

    .submenu a {
      padding: 0.3rem 0.5rem;
      border-radius: 5px;
      color: white;
      text-decoration: none;
      font-size: 0.9rem;
    }

    .submenu a:hover {
      background-color: #3d3a36;
    }

    .submenu.show {
      display: flex;
    }

    .submenu a.active {
      background-color: #675cff;
    }

    .icon {
      width: 20px;
    }

    .arrow {
      font-size: 0.7rem;
      transition: transform 0.3s;
    }

    .arrow.rotate {
      transform: rotate(180deg);
    }
  </style>
</head>
<body>
  <aside class="sidebar">
    <h1>MobilBagus</h1>
    <div class="menu">
      <div class="menu-item">
        <a href="../Admin/dashboard.html" class="menu-link"><span class="icon">🏠</span> Dashboard</a>
      </div>

      <div class="menu-item">
        <a href="../Admin/manajemen-mobil.html" class="menu-link"><span class="icon">🚗</span> Manajemen Mobil</a>
      </div>

      <div class="menu-item">
        <div class="menu-toggle" onclick="toggleMenu('penjualan')">
          <span class="menu-link"><span class="icon">📈</span> Penjualan</span>
          <span class="arrow" id="arrow-penjualan">▼</span>
        </div>
        <div class="submenu" id="submenu-penjualan">
          <a href="../Admin/data-penjualan.html">Data Penjualan</a>
          <a href="../Admin/daftar-penjualan.html">Daftar Penjualan</a>
          <a href="../Admin/laporan.html">Laporan</a>
        </div>
      </div>

      <div class="menu-item">
        <a href="../Admin/pelanggan.html" class="menu-link"><span class="icon">👥</span> Pelanggan</a>
      </div>

      <div class="menu-item">
        <div class="menu-toggle" onclick="toggleMenu('layanan')">
          <span class="menu-link"><span class="icon">🎧</span> Layanan</span>
          <span class="arrow" id="arrow-layanan">▼</span>
        </div>
        <div class="submenu" id="submenu-layanan">
          <a href="../Admin/data-layanan.html">Data Layanan</a>
          <a href="../Admin/klaim-garansi.html">Klaim Garansi</a>
          <a href="../Admin/data-garansi.html">Data Garansi</a>
        </div>
      </div>

      <div class="menu-item">
        <a href="../Admin/pengaturan.html" class="menu-link"><span class="icon">⚙️</span> Pengaturan</a>
      </div>

      <div class="menu-item">
        <a href="../Admin/logout.html" class="menu-link"><span class="icon">🚪</span> Keluar</a>
      </div>
    </div>
  </aside>

  <script>
  function toggleMenu(menuId) {
    const submenu = document.getElementById('submenu-' + menuId);
    const arrow = document.getElementById('arrow-' + menuId);
    submenu.classList.toggle('show');
    arrow.classList.toggle('rotate');
  }

  // Tandai link aktif berdasarkan URL
  const currentPath = window.location.pathname.split("/").pop();
  const allLinks = document.querySelectorAll('a');

  allLinks.forEach(link => {
    if (link.getAttribute('href').includes(currentPath)) {
      link.classList.add('active');

      const submenu = link.closest('.submenu');
      if (submenu) {
        submenu.classList.add('show');
        const menuId = submenu.id.split('-')[1];
        document.getElementById('arrow-' + menuId)?.classList.add('rotate');
      }
    }
  });
</script>
</body>
</html>
